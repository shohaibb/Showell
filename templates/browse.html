<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browse - ShowWell</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='browse.css') }}">

    <!-- Navigation Bar -->
    <nav class="navbar">
        <ul class="nav-links">
            <li>
                <a href="{{ url_for('home') }}" class="nav-home">
                    <img src="{{ url_for('static', filename='home.ico') }}" alt="Home" class="nav-icon">
                    <span class="nav-text">Home</span>
                </a>
            </li>
            <li>
                <a href="{{ url_for('browse') }}" class="nav-browse">
                    <img src="{{ url_for('static', filename='controller.ico') }}" alt="Browse" class="nav-icon">
                    <span class="nav-text">Browse</span>
                </a>
            </li>
            <li>
                <a href="{{ url_for('contact') }}" class="nav-contact">
                    <img src="{{ url_for('static', filename='phone.ico') }}" alt="Contact Us" class="nav-icon">
                    <span class="nav-text">Contact Us</span>
                </a>
            </li>
        </ul>
    </nav>
</head>

<body>
    <!-- Filter Icon Container -->
    <div class="filter-icon-container">
        <img src="{{ url_for('static', filename='filter.ico') }}" alt="Filter" class="filter-icon">
        <div class="filter-bar" onclick="toggleDropdown()">
            Filter By...
            <span class="arrow">◀</span>
            <div class="dropdown-menu" id="dropdown-menu">
                <p data-title="Browse Games">All Games</p>
                <p data-title="Japanese Culture Games">Japanese Culture</p>
                <p data-title="Chinese Culture Games">Chinese Culture</p>
                <p data-title="African Culture Games">African Culture</p>
            </div>
        </div>
    </div>

    <!-- Sort Icon Container -->
    <div class="sort-icon-container">
        <div class="sort-bar" onclick="toggleSortDropdown()">
            Sort By...
            <span class="sort-arrow">▶</span>
            <div class="sort-dropdown-menu" id="sort-dropdown-menu">
                <p>A-Z</p>
                <p>Rating</p>
                <p>Newly Released</p>
                <p>Most Popular</p>
            </div>
        </div>
        <img src="{{ url_for('static', filename='sort.ico') }}" alt="Sort" class="sort-icon">
    </div>

    <!-- Browse Games Title -->
    <h1 class="browse-title" id="browse-title">Browse Games</h1>

    <!-- Game Grid -->
    <div class="game-grid">
        <div class="game-card"></div>
        <div class="game-card"></div>
        <div class="game-card"></div>
        <div class="game-card"></div>
        <div class="game-card"></div>
        <div class="game-card"></div>
        <div class="game-card"></div>
        <div class="game-card"></div>
    </div>

    <!-- Page Number Bar -->
    <div class="pagination-bar">
        <span class="page-number">1</span>
        <span class="page-number">2</span>
        <span class="page-number">3</span>
        <span class="page-number">4</span>
        <span class="page-number">...</span>
        <span class="page-number">Next</span>
    </div>

    <script>
        function toggleDropdown() {
            const filterBar = document.querySelector('.filter-bar');
            const dropdown = document.getElementById('dropdown-menu');
            const arrow = document.querySelector('.arrow');

            if (filterBar.classList.contains('active')) {
                filterBar.classList.remove('active');
                dropdown.style.transform = 'scaleY(0)';
                arrow.style.transform = 'rotate(270deg)';
            } else {
                filterBar.classList.add('active');
                dropdown.style.transform = 'scaleY(1)';
                arrow.style.transform = 'rotate(360deg)';
            }
        }

        function toggleSortDropdown() {
            const sortBar = document.querySelector('.sort-bar');
            const sortDropdown = document.getElementById('sort-dropdown-menu');
            const sortArrow = document.querySelector('.sort-arrow');

            if (sortBar.classList.contains('active')) {
                sortBar.classList.remove('active');
                sortDropdown.style.transform = 'scaleY(0)';
                sortArrow.style.transform = 'rotate(90deg)';
            } else {
                sortBar.classList.add('active');
                sortDropdown.style.transform = 'scaleY(1)';
                sortArrow.style.transform = 'rotate(180deg)';
            }
        }

        document.querySelectorAll('.dropdown-menu p').forEach(option => {
            option.addEventListener('click', () => {
                const filterBar = document.querySelector('.filter-bar');
                const dropdown = document.getElementById('dropdown-menu');
                const arrow = document.querySelector('.arrow');
                const browseTitle = document.getElementById('browse-title');

                const newTitle = option.getAttribute('data-title');
                browseTitle.innerText = newTitle;

                filterBar.classList.remove('active');
                dropdown.style.transform = 'scaleY(0)';
                arrow.style.transform = 'rotate(270deg)';
            });
        });

        document.addEventListener('click', (event) => {
            const filterIconContainer = document.querySelector('.filter-icon-container');
            const sortIconContainer = document.querySelector('.sort-icon-container');
            const filterBar = document.querySelector('.filter-bar');
            const sortBar = document.querySelector('.sort-bar');
            const dropdown = document.getElementById('dropdown-menu');
            const sortDropdown = document.getElementById('sort-dropdown-menu');
            const arrow = document.querySelector('.arrow');
            const sortArrow = document.querySelector('.sort-arrow');

            if (!filterIconContainer.contains(event.target)) {
                filterBar.classList.remove('active');
                dropdown.style.transform = 'scaleY(0)';
                arrow.style.transform = 'rotate(270deg)';
            }

            if (!sortIconContainer.contains(event.target)) {
                sortBar.classList.remove('active');
                sortDropdown.style.transform = 'scaleY(0)';
                sortArrow.style.transform = 'rotate(90deg)';
            }
        });
    </script>
</body>
</html>
